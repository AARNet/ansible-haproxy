{{ ansible_managed }}
defaults
    {% if item.mode is defined %}
        mode {{ item.mode }}
    {% endif %}
    {% if item.log is defined %}
        log {{ item.log }}
    {% endif %}
    {% if item.options is defined %}
        {% for option in item.options %}
            option {{ option }}
        {% endfor %}
    {% endif %}
    {% if item.retries is defined %}
        retries {{ item.retries }}
    {% endif %}
    {% if item.timeout is defined %}
        {% for condition in item.timeout %}
            timeout {{ condition.param }} {{ condition.value }}
        {% endfor %}
    {% endif %}
    {% if item.maxconn is defined %}
        maxconn {{ item.maxconn }}
    {% endif %}
    {% if item.stats is defined %}
        {% if item.stats.enabled is defined %}
            stats {{ item.stats.enabled }}
        {% endif %}
        {% if item.stats.hide-version is defined %}
            stats {{ item.stats.hide-version }}
        {% endif %}
        {% if item.stats.uri is defined %}
            stats {{ item.stats.uri }}
        {% endif %}
        {% if item.stats.realm is defined %}
            stats {{ item.stats.realm }}
        {% endif %}
        {% if item.stats.auth is defined %}
            stats {{ item.stats.auth }}
        {% endif %}
        {% if item.stats.refresh is defined %}
            stats {{ item.stats.refresh }}
        {% endif %}
    {% endif %}
